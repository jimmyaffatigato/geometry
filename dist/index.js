var M=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var F=(o,t)=>{for(var e in t)M(o,e,{get:t[e],enumerable:!0})},I=(o,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of $(t))!L.call(o,r)&&r!==e&&M(o,r,{get:()=>t[r],enumerable:!(i=V(t,r))||i.enumerable});return o};var B=o=>I(M({},"__esModule",{value:!0}),o);var X={};F(X,{Angle:()=>d,Circle:()=>G,Grid:()=>v,Line:()=>y,Path:()=>R,Point:()=>u,Rectangle:()=>S,Row:()=>x,Scalar:()=>f,Vector:()=>g});module.exports=B(X);var c=class{value;max;min;setValue(t){return t>this.max?this.maximize():t<this.min?this.minimize():new c(t,this.max,this.min)}setMax(t){return t<this.value?new c(t,t,this.min):new c(this.value,t,this.min)}maximize(){return this.setValue(this.max)}minimize(){return this.setValue(this.min)}negate(){return this.setValue(-this.value)}add(t){return typeof t=="number"?this.setValue(this.value+t):this.setValue(this.value+t.value)}multiply(t){return typeof t=="number"?this.setValue(this.value*t):this.setValue(this.value*t.value)}type="scalar";clone(){return new c(this.value,this.max,this.min)}match(t){return this.value==t.value}toString(){return`${this.value} [${this.min}, ${this.max}]`}constructor(t,e=1/0,i=-1/0){let r=0,m=0,A=0;typeof t=="number"?r=t:r=t.value,typeof e=="number"?m=e:m=e.value,typeof i=="number"?A=i:A=i.value,this.max=m,this.min=A,this.value=D(r,this.max,this.min)}static get zero(){return new c(0)}static get one(){return new c(1)}static random(t,e){return new c(Math.random(),t,e)}},f=c;function D(o,t,e){return o>t?t:o<e?e:o}var n=class{_x;_y;get x(){return this._x.value}get y(){return this._y.value}get position(){return this.clone()}setPosition(t,e){let i=0,r=0;return typeof t=="number"&&typeof e=="number"?(i=t,r=e):t instanceof n&&(i=t.x,r=t.y),new n(i,r)}translateX(t){return new n(this.x+t,this.y)}translateY(t){return new n(this.x,this.y+t)}translate(t){return new n(this.x+t.x,this.y+t.y)}scale(t){if(typeof t=="number")return new n(this.x*t,this.y*t);if(t instanceof n)return new n(this.x*t.x,this.y*t.y)}floor(){return new n(Math.floor(this.x),Math.floor(this.y))}absolute(){return new n(Math.abs(this.x),Math.abs(this.y))}difference(t){return new n(t.x-this.x,t.y-this.y)}distance(t){let{x:e,y:i}=this.difference(t);return Math.sqrt(e**2+i**2)}direction(t){return new d(Math.atan2(t.y-this.y,t.x-this.x))}reflect(){return new n(-this.x,-this.y)}reflectX(){return new n(-this.x,this.y)}reflectY(){return new n(this.x,-this.y)}isWithin(t,e){return this.distance(t)<=e}rotate(t){return this.toVector().rotate(t).toPoint()}toArray(){return[this.x,this.y]}toVector(){return new g(n.zero.direction(this),n.zero.distance(this))}type="point";clone(){return new n(this.x,this.y)}match(t){return this.x==t.x&&this.y==t.y}toString(t=2){return`[${this.x.toFixed(t)}, ${this.y.toFixed(t)}]`}constructor(t,e){let i=0,r=0;typeof t=="number"&&typeof e=="number"?(i=t,r=e):t instanceof n?(i=t.x,r=t.y):Array.isArray(t)?(i=t[0],r=t[1]):t instanceof f&&e instanceof f&&(i=t.value,r=e.value),this._x=new f(i),this._y=new f(r)}static get zero(){return new n(0,0)}static get one(){return new n(1,1)}static random(){return new n(Math.random(),Math.random())}},u=n;var s=class{position;get x(){return this.position.x}get y(){return this.position.y}translate(t){return new s(this.position.translate(t),this.size)}setPosition(t){return new s(t,this.size)}size;get width(){return this.size.x}get height(){return this.size.y}get area(){return this.width*this.height}scale(t){return new s(this.position,this.size.scale(t))}expand(t){return new s(this.position.translate(t.reflect()),this.size.translate(t.scale(2)))}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}contains(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom}reflect(){return new s(this.position.reflect(),this.size.reflect())}reflectX(){return new s(this.position.reflectX(),this.size.reflectX())}reflectY(){return new s(this.position.reflectY(),this.size.reflectY())}intersects(t){return!(t.left>this.right||t.right<this.left||t.top>this.bottom||t.bottom<this.top)}floor(){return new s(this.position.floor(),this.size.floor())}toArray(){return[this.x,this.y,this.width,this.height]}toRectangle(){return this.clone()}type="rectangle";clone(){return new s(this.position,this.size)}match(t){return this.position.match(t.position)&&this.size.match(t.size)}toString(t=2){let{x:e,y:i,width:r,height:m}=this;return`[${e.toFixed(t)}, ${i.toFixed(t)}, ${r.toFixed(t)}, ${m.toFixed(t)}]`}constructor(t,e,i,r){this.type="rectangle",typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof r=="number"?(this.position=new u(t,e),this.size=new u(i,r)):t instanceof u&&e instanceof u&&(this.position=t,this.size=e)}static random(){return new s(u.random(),u.random())}},S=s;var p=class{origin;end;get length(){return this.origin.distance(this.end)}get angle(){return this.origin.direction(this.end)}reverse(){return new p(this.end,this.origin)}translate(t){return new p(this.origin.translate(t),this.end.translate(t))}rotate(t){return this.toVector().rotate(t).toLine(this.origin)}rotateByDegree(t){return this.rotate(Math.PI/180*t)}setAngle(t){return this.toVector().setAngle(t).toLine(this.origin)}toVector(){return new g(this.angle,this.length)}toRectangle(){return new S(this.origin,this.end)}type="line";clone(){return new p(this.origin,this.end)}match(t){return t.origin.match(this.origin)&&t.end.match(this.end)}floor(){return new p(this.origin.floor(),this.end.floor())}toString(){return`${this.origin.toString()} => ${this.end.toString()}`}constructor(t,e){this.origin=t,this.end=e}static random(){return new p(u.random(),u.random())}},y=p;var h=class{angle;magnitude;setMagnitude(t){return new h(this.angle,t)}scale(t){return new h(this.angle,this.magnitude*t)}setAngle(t){return new h(t,this.magnitude)}rotate(t){return new h(this.angle.rotate(t),this.magnitude)}rotateByDegrees(t){return this.rotate(Math.PI/180*t)}toPoint(){return new u(Math.cos(this.angle.radians)*this.magnitude,Math.sin(this.angle.radians)*this.magnitude)}toLine(t=u.zero){return new y(u.zero,this.toPoint()).translate(t)}type="vector";clone(){return new h(this.angle,this.magnitude)}match(t){return t.angle==this.angle&&t.magnitude==this.magnitude}floor(){return new h(this.angle,Math.floor(this.magnitude))}absolute(){return new h(this.angle.absolute(),Math.abs(this.magnitude))}toString(t=2){return`${this.angle.degrees.toFixed(t)}\xB0 x ${this.magnitude.toFixed(t)}`}constructor(t,e=0){this.angle=t,this.magnitude=e}static get zero(){return new h(new d(0))}},g=h;var b=class{radians;get degrees(){return this.radians/(Math.PI/180)}rotate(t){return new b(this.radians+t)}rotateByDegrees(t){return this.rotate(Math.PI/180*t)}toVector(){return new g(this)}type="angle";clone(){return new b(this.radians)}match(t){return this.radians==t.radians}floor(){return new b(Math.floor(this.radians))}absolute(){return new b(Math.abs(this.radians))}toString(){return`${this.degrees}\xB0 (${this.radians})`}constructor(t){this.radians=t}static degrees(t){return new b(t*(Math.PI/180))}static random(){return new b(Math.random()*Math.PI*2)}},d=b;var w=class{origin;radius;get diameter(){return this.radius*2}get area(){return this.radius**2*Math.PI}get circumference(){return 2*Math.PI*this.radius}get position(){return this.origin}get x(){return this.origin.x}get y(){return this.origin.y}setPosition(t){return new w(t,this.radius)}translate(t){return this.setPosition(this.position.translate(t))}get size(){return new u(this.diameter,this.diameter)}get width(){return this.size.x}get height(){return this.size.y}get left(){return this.x-this.radius}get right(){return this.x+this.radius}get top(){return this.y-this.radius}get bottom(){return this.y+this.radius}contains(t){return t.distance(this.origin)<=this.radius}type="circle";clone(){return new w(this.origin,this.radius)}match(t){return t.origin.match(this.origin)&&t.radius==this.radius}toString(t=2){let{x:e,y:i,radius:r}=this;return`[x: ${e.toFixed(t)}, y: ${i.toFixed(t)}, r: ${r}]`}constructor(t,e){this.origin=t,this.radius=e}},G=w;var l=class{type="row";values;get length(){return this.values.length}constructor(t){this.values=t}static of(t,e){let i=[];for(let r=0;r<t;r++)i.push(e(r));return new l(i)}static zero(t){return l.of(t,()=>0)}valueAt(t){return this.values[t]}reverse(){return new l(this.values.reverse())}map(t){return new l(this.values.map(t))}shiftRight(t){if(t>0){let e=this.values.slice(0,-t);return new l(P(this.length-e.length,()=>0).concat(e))}if(t<0)return this.shiftLeft(-t);if(t==0)return this.clone()}shiftLeft(t){if(t>0){let e=this.values.slice(t);return new l(e.concat(P(this.length-e.length,()=>0)))}if(t<0)return this.shiftRight(-t);if(t==0)return this.clone()}stretch(t){let e=[];for(let i=0;i<this.length;i++)for(let r=0;r<t;r++)e.push(this.valueAt(i));return new l(e)}clone(){return new l(this.values)}sum(t,e=0){let i=this.values.map((r,m)=>r+t.shiftRight(e).valueAt(m));return new l(i)}toString(){return this.values.map(t=>`[${t.toString().padEnd(3," ")}]`).join("")}toArray(){return this.values.slice(0)}toGrid(){return new v([this])}},x=l;var P=(o,t)=>{let e=[];for(let i=0;i<o;i++)e.push(t(i));return e},a=class{type="grid";rows;width;height;get area(){return this.width*this.height}get size(){return new u(this.width,this.height)}constructor(t){this.rows=t,this.width=t[0].length,this.height=t.length}clone(){return new a(this.rows.map(t=>t.clone()))}valueAt(t){return t.y>=0&&t.y<this.rows.length?this.rows[t.y].valueAt(t.x):null}rowAt(t){return t>=0&&t<this.rows.length?this.rows[t]:x.zero(this.width)}mapRows(t){let e=this.rows.map(t);return new a(e)}shiftLeft(t){return new a(this.rows.map(e=>e.shiftLeft(t)))}shiftRight(t){return new a(this.rows.map(e=>e.shiftRight(t)))}shiftUp(t){let e=this.rows.slice(t);return new a(e.concat(P(this.height-e.length,()=>x.zero(this.width))))}shiftDown(t){let e=this.rows.slice(0,-t);return new a(P(this.height-e.length,()=>x.zero(this.width)).concat(e))}stretch(t){let e=[];for(let i=0;i<this.rows.length;i++)for(let r=0;r<t.y;r++)e.push(this.rowAt(i).stretch(t.x));return new a(e)}sum(t,e=u.zero){let i=t.shiftDown(e.y).shiftRight(e.x);return new a(this.rows.map((r,m)=>r.sum(i.rowAt(m))))}toString(){return this.rows.map(t=>`${t.toString()}`).join(`
`)}},v=a;var z=class{points;get segments(){let t=[];for(let e=0;e<this.points.length-1;e++){let i=this.points[e],r=this.points[e+1];t.push(new y(i,r))}return t}get length(){let t=0;return this.segments.forEach(e=>{t+=e.length}),t}toArray(){return this.points.map(t=>[t.x,t.y])}type="path";clone(){return new z(this.points.slice())}match(t){if(this.points.length==t.length){for(let e=0;e<this.points.length;e++)if(this.points[e]!=t.points[e])return!1;return!0}return!1}toString(){return`[${this.points.map(t=>`[${t.x}, ${t.y}]`).join(", ")}]`}constructor(t){this.points=t}},R=z;0&&(module.exports={Angle,Circle,Grid,Line,Path,Point,Rectangle,Row,Scalar,Vector});
